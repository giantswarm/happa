{
  "name": "happa",
  "components": {
    "nginx": {
      "image": "registry.giantswarm.io/giantswarm/happa:finalizing-metrics-2016-10-17-16-07-26",
      "ports": 80,
      "domains": {
        "80": "happa.giantswarm.io"
      },
      "scale": {
        "min": 1,
        "placement": "one-per-machine"
      },
      "env": {
        "PASSAGE_ENDPOINT": "https://passage.giantswarm.io",
        "API_ENDPOINT": "https://api.giantswarm.io",
        "DESMOTES_ENDPOINT": "https://desmotes.giantswarm.io"
      }
    },

    "desmotes": {
      "image": "registry.giantswarm.io/giantswarm/desmotes:fix-cpu-metrics-2016-10-18-18-52-34",
      "ports": 5000,
      "domains": {
        "5000": "desmotes.giantswarm.io"
      },

      "env": {
        "GIANTSWARM_API_URI": "https://api.giantswarm.io",
        "PROMETHEUS_URI": "https://leaseweb-prometheus.giantswarm.io",
        "PROMETHEUS_USER": "admin",
        "PROMETHEUS_PASSWORD": "$prometheus_password",
        "PROMETHEUS_QUERY_TIMEOUT": "3.0",
        "CORS_BASE_URI": "https://happa.giantswarm.io",
        "CACHE_KEY_SALT": "$cache_key_salt",
        "DEBUGGING": "yeah",
        "REDIS_HOST": "redis",
        "REDIS_PORT": "6379"
      },

      "links": [
        {
          "component": "redis",
          "target_port": 6379
        }
      ]
    },

    "redis": {
      "ports": 6379,
      "image": "redis:3.2"
    }
  }
}
